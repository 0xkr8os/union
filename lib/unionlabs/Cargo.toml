[package]
name = "unionlabs"
version = "0.1.0"
edition = "2021"

[dependencies]
serde-utils.workspace = true
contracts = { workspace = true, optional = true }
protos = { workspace = true, default-features = false, features = ["proto_full"] }

ssz = { workspace = true, default-features = false }
ssz_types = { workspace = true, default-features = false }
tree_hash = { workspace = true, default-features = false }
milagro_bls = { workspace = true, default-features = false }

prost = { version = "0.11.9", default-features = false, features = ["std"] }
bip32 = { version = "0.5.0", default-features = false, features = ["secp256k1"] }
# needs to be brought in explicitly since bip32 doesn't expose k256/schnorr
k256 = { version = "0.13.1", default-features = false, features = ["schnorr"] }
subtle-encoding = { version = "0.5.1", default-features = false, features = ["bech32-preview"] }
ripemd = { version = "0.1.3", default-features = false }
sha2 = { version = "0.10.7", default-features = false }
serde = { version = "1.0.164", default-features = false, features = ["derive"] }
primitive-types = { version = "0.12.1", default-features = false, features = ["serde_no_std"] }
hex = { version = "0.4.3", default-features = false }
typenum = { version = "1.16.0", default-features = false, features = ["const-generics", "no_std"] }
hex-literal = "0.4.1"
generic-array = "0.14.7"
tracing = "0.1.37"
ethers-core = { version = "2.0.8", optional = true }

[dev-dependencies]
serde_json = "1.0.96"

[features]
default = ["ethabi", "std"]
grpc = ["protos/client"]

std = ["tree_hash/detect-cpufeatures"]
ethabi = ["contracts", "ethers-core"]
