---
import { getFileContent } from '#/lib/utilities.ts'
import { Code } from '@astrojs/starlight/components'

interface Props {
  filepath: string
  filename: string
  language: Parameters<typeof Code>[0]['lang']
}

/**
 * TODO: add tab support
 */
const { filepath, filename, language } = Astro.props

const fileContent = await getFileContent({ filepath })
---

<Code
  lang={language}
  title={filename}
  code={fileContent}
  class:list={['expressive-code']}
/>
