---
title: "Opening IBC Connection to Union"
---

In order to start communicating with Union and unlock the capability to connect to multiple different networks from various ecosystems, an IBC connection
needs to be opened first. This should be done after having the `Cometbls` light client on your chain though so make sure to follow our [configuration guide](/docs/integrations/tendermint)
for that.

## Running Voyager

`Voyager` is our relayer which is an off-chain tool to relay packets, listen IBC events and send IBC transactions. We need to run a `voyager` instance
with the correct configurations. Let's first download the binary and an example configuration file.

```
# Download voyager
wget https://github.com/unionlabs/union/releases/download/v0.24.0/voyager-x86_64-linux -O voyager && chmod +x voyager

# Download the minimal config
wget https://raw.githubusercontent.com/unionlabs/union/main/voyager/minimal-config.json

# Download galoisd
wget https://github.com/unionlabs/union/releases/download/v0.24.0/galoisd-x86_64-linux -O galoisd && chmod +x galoisd

# Download galoisd's circuit and keys
wget https://github.com/unionlabs/union/releases/download/v0.24.0/circuit.zip && unzip circuit.zip
```

### Setting up Voyager configuration

We now need to change the configuration params for our chain accordingly. `voyager` needs an account with funds to be able to send transactions.
You need to supply your private key to `voyager`. Let's first export it, then put it into the config.

```
$NODE_BIN keys export $KEY_NAME --unarmored-hex --unsafe
# 0xaaabbbccc....
```

To put the private key into the config:

_NOTE: Please beware that there should be a `0x` prefix before the PRIVATE_KEY_
```
cat <<< $(jq '.chain."cosmos-testnet".keyring.keys[0].key = "0x$PRIVATE_KEY"' minimal-config.json) > minimal-config.json
```

We also need to specificy the `websocket` ($WS_URL) and `grpc` ($GRPC_URL) endpoints and the `denom` ($DENOM) for our network:

```
cat <<< $(jq '.chain."cosmos-testnet".ws_url = "$WS_URL" | .chain."cosmos-testnet".grpc_url = "$GRPC_URL" | .chain."cosmos-testnet".gas_config.gas_denom = "$DENOM"' minimal-config.json) > minimal-config.json
```

_NOTE: You can change the `max_gas`, `gas_multiplier` and `gas_price` accordingly to your chain's needs.

The final thing about the configuration is to setup the `union` account. If you not already have one, you could follow [this guide](/docs/joining-testnet/getting-tokens).

Let's set our `union` private key too:

```
cat <<< $(jq '.chain."union-testnet".keyring.keys[0].key = "0x$UNION_PRIVATE_KEY"' minimal-config.json) > minimal-config.json
```

### Starting galoisd

We need to run `galoisd`, our prover to be able to prove `union`'s headers to our chain.

```
galoisd -- serve localhost:9999 --cs-path=./circuit/r1cs.bin --pk-path=./circuit/pk.bin --vk-path=./circuit/vk.bin  --max-conn 1	
```

### Starting postgres server for voyager

```
POSTGRES_PASSWORD="postgrespassword" POSTGRES_DB="default" postgres -c shared_buffers=1024MB -c effective_cache_size=2048MB
```

### Running db migrations

```
voyager -c minimal-config.json run-migrations
```

### Start voyager

```
RUST_LOG=info voyager -c ./minimal-config.json relay
```


## Creating a CometBLS light client instance on your chain

We need the CometBLS light client to be able to track and verify Union's blocks and state.


